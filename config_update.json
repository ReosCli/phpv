{    
    "__comment": "By ReosCli",
    "submenu":[
        {   "id":       "m",
            "name":     "Cambiar de menu",
            "group":    "menu",
            "type":     "function",
            "action":   "inicio()",        
            "visible":  false,
            "msg_ok":   "",
            "msg_x":    ""
        },
        {   "id":       "y",
            "name":     "Reiniciar Apache",
            "group":    "system",
            "type":     "command",
            "action":   "sudo service apache2 restart",        
            "visible":  true,
            "msg_ok":   "Reiniciado servicio Apache",
            "msg_x":    ""
        },
        {   "id":       "r2",
            "name":     "Reiniciar MySql",
            "group":    "system",
            "type":     "command",
            "action":   "sudo service mysql restart",        
            "visible":  true,
            "msg_ok":   "Reiniciado servicio MySql",
            "msg_x":    ""
        },
        {   "id":       "1",
            "name":     "Instalar php 5.6",
            "group":    "mod_php",
            "type":     "command",
            "action":   "sudo apt-get install php5.6 libapache2-mod-php5.6 php5.6-mcrypt php5.6-mysql php5.6-mbstring php5.6-gettext php5.6-xml php5.6-json php5.6-curl php5.6-zip",        
            "visible":  true,
            "msg_ok":   "Instalacion php 5.6 completada",
            "msg_x":    ""
        },
        {   "id":       "2",
            "name":     "Instalar php 7.0",
            "group":    "mod_php",
            "type":     "command",
            "action":   "sudo apt-get install php7.0 libapache2-mod-php7.0 php7.0-mcrypt php7.0-mysql php7.0-mbstring php7.0-gettext php7.0-xml php7.0-json php7.0-curl php7.0-zip",        
            "visible":  true,
            "msg_ok":   "Instalacion php 7.0 completada",
            "msg_x":    ""
        },
        {   "id":       "3",
            "name":     "Instalar php 7.1",
            "group":    "mod_php",
            "type":     "command",
            "action":   "sudo apt-get install php7.1 libapache2-mod-php7.1 php7.1-mcrypt php7.1-mysql php7.1-mbstring php7.1-gettext php7.1-xml php7.1-json php7.1-curl php7.1-zip",        
            "visible":  true,
            "msg_ok":   "Instalacion php 7.1 completada",
            "msg_x":    ""
        },
        {   "id":       "4",
            "name":     "Instalar php 7.2",
            "group":    "mod_php",
            "type":     "command",
            "action":   "sudo apt-get install php7.2 libapache2-mod-php7.2 php7.2-mysql php7.2-mbstring php7.2-gettext php7.2-xml php7.2-json php7.2-curl php7.2-zip",        
            "visible":  true,
            "msg_ok":   "Instalacion php 7.2 completada",
            "msg_x":    ""
        },
        {   "id":       "5",
            "name":     "Instalar php 7.3",
            "group":    "mod_php",
            "type":     "command",
            "action":   "sudo apt-get install php7.3 libapache2-mod-php7.3 php7.3-mysql php7.3-mbstring php7.3-gettext php7.3-xml php7.3-json php7.3-curl php7.3-zip",        
            "visible":  true,
            "msg_ok":   "Instalacion php 7.3 completada",
            "msg_x":    ""
        },
        {   "id":       "6",
            "name":     "apache.conf",
            "group":    "apache",
            "type":     "function",
            "action":   "leer_apache_conf()",        
            "visible":  true,
            "msg_ok":   "",
            "msg_x":    ""
        },
        {   "id":       "7",
            "name":     "Instalar phpv",
            "group":    "system",
            "type":     "function",
            "action":   "instalar_phpv()",        
            "visible":  true,
            "msg_ok":   "Se ha instalado phpv",
            "msg_x":    "No se ha instalado phpv"
        },
        {   "id":       "8",
            "name":     "Apache error",
            "group":    "log",
            "type":     "command",
            "action":   "echo 'APACHE LOG ERROR' && tail -f /var/log/apache2/error.log",        
            "visible":  true,
            "msg_ok":   "",
            "msg_x":    ""
        },
        {   "id":       "9",
            "name":     "Apache access",
            "group":    "log",
            "type":     "command",
            "action":   "echo 'APACHE LOG ACCESS' && tail -f /var/log/apache2/access.log",        
            "visible":  true,
            "msg_ok":   "",
            "msg_x":    ""
        },
        {   "id":       "10",
            "name":     "Hosts",
            "group":    "cargar_datos",
            "type":     "command",
            "action":   "echo 'APACHE LOG ACCESS' && tail -f /etc/hosts",        
            "visible":  true,
            "msg_ok":   "",
            "msg_x":    ""
        },
        {   "id":       "11",
            "name":     "Apache Firewall",
            "group":    "firewall",
            "type":     "command",
            "action":   "sudo ufw app info 'Apache Full'  && sudo ufw allow in 'Apache Full'",        
            "visible":  true,
            "msg_ok":   "Apache Firewall",
            "msg_x":    "Apache Firewall Error"
        },
        {   "id":       "12",
            "name":     "IP Publica",
            "group":    "firewall",
            "type":     "command",
            "action":   "curl ifconfig.me",        
            "visible":  true,
            "msg_ok":   "IP publica",
            "msg_x":    "IP publica"
        },
        {   "id":       "dpkg exist",
            "name":     "dpkg exist",
            "group":    "system",
            "type":     "command",
            "action":   "dpkg",     
            "visible":  true,
            "msg_ok":   "",
            "msg_x":    ""
        },
        {   "id":       "u",
            "name":     "Update",
            "group":    "install",
            "type":     "function",
            "action":   "update_phpv()",        
            "visible":  true,
            "msg_ok":   "",
            "msg_x":    ""
        },
        {   "id":       "n",
            "name":     "Install phpv",
            "group":    "system",
            "type":     "command",
            "action":   "install_phpv()",        
            "visible":  true,
            "msg_ok":   "Instalacion phpv OK",
            "msg_x":    "Error en la instalacion."
        },
        {   "id":       "q",
            "name":     "EXIT",
            "group":    "system",
            "type":     "function",
            "action":   "sys.exit()",        
            "visible":  false,
            "msg_ok":   "",
            "msg_x":    ""
        },
        {   "id":       "y",
            "name":     "Reiniciar Apache",
            "group":    "system",
            "type":     "function",
            "action":   "reiniciar_apache()",        
            "visible":  false,
            "msg_ok":   "Reiniciado Apache",
            "msg_x":    "Error al reiniciar apache"
        }
    ],
    "pre_requisitos":[
        {   "id": "pr1",
            "name":     "Repositorio php*",
            "group":    "system",
            "modules":  "",
            "action":   "sudo add-apt-repository ppa:ondrej/php"        
        }
    ],
    "install_apache":[
        {   "id":       "apache",
            "name":     "Instalar Apache",
            "group":    "install",
            "type":     "command",
            "action":[
                "sudo add-apt-repository ppa:ondrej/php",
                "sudo apt-get update",
                "sudo apt-get install apache2 libapache2-mod-php",
                "sudo apt-get install mysql-server",
                "sudo apt-get install php php-mbstring php-gd php-xml php-bcmath php-ldap php-mysql"
            ],          
            "visible":  false,
            "msg_ok":   "Instalacion de  Apache completada",
            "msg_x":    "Error instalacion apache"
        }],
    "install_mcrypt_php7.2":[
        {   "id":       "apache",
            "name":     "Instalar Apache",
            "group":    "install",
            "type":     "command",
            "action":[
                "sudo apt install php-pear php7.2-dev libmcrypt-dev gcc make autoconf libc-dev pkg-config",
                "sudo pecl -q install mcrypt-1.0.1",
                "echo 'extension=mcrypt.so' | sudo tee -a /etc/php/7.2/mods-available/mcrypt.ini",
                "sudo ln -s /etc/php/7.2/mods-available/mcrypt.ini /etc/php/7.2/cli/conf.d/20-mcrypt.ini"                
            ],          
            "visible":  false,
            "msg_ok":   "Instalacion de  Apache completada",
            "msg_x":    "Error instalacion apache"
        }]
}




      
